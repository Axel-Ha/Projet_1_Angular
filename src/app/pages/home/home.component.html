<section class="home__chart-container">
    <h2 class="home__chart-title">Country performances</h2>

    <h3>Medals per country</h3>

    <ng-container *ngIf="isLoading$ | async; else content">
        <p>Loading countries pie chart...</p>
        <app-spin-loader></app-spin-loader>
    </ng-container>

    <ng-template #content>
        <!-- Can't use optional?.chaining in this directive -->
        <ng-container *ngIf="medalsArray && medalsArray.length > 0; else hasNoValues">
            <ngx-charts-pie-chart [results]="medalsArray" [gradient]="true" [labels]="true" [trimLabels]="false"
                (select)="selectCountryById($event)">
            </ngx-charts-pie-chart>
        </ng-container>
    </ng-template>

    <ng-template #hasNoValues>
        <p>There are currently no countries</p>
    </ng-template>
</section>